<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Natural language modeling: How deep is too deep?</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://ilyaeck.github.io/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:400,700,400italic,700italic|Open+Sans:400italic,700italic,700,400">
    <link rel="stylesheet" type="text/css" href="//ilyaeck.github.io/themes/roon/assets/css/screen.css?v=1473892682369" />

    <link rel="canonical" href="https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="IE " />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Natural language modeling: How deep is too deep?" />
    <meta property="og:description" content="TL;DR Is Deep Learning always the best tool for Natural Language Understanding tasks? Not necessarily! Recently, a paper from Facebook AI Research (FAIR) appeared on arXiv, under the intriguing title Bag of Tricks for Efficient Text Classification[1], promptly catching the NLP community&amp;#8217;s attentuion. Even more intruguingly," />
    <meta property="og:url" content="https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html" />
    <meta property="article:tag" content="Deep Learning" />
    <meta property="article:tag" content=" NLP" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Natural language modeling: How deep is too deep?" />
    <meta name="twitter:description" content="TL;DR Is Deep Learning always the best tool for Natural Language Understanding tasks? Not necessarily! Recently, a paper from Facebook AI Research (FAIR) appeared on arXiv, under the intriguing title Bag of Tricks for Efficient Text Classification[1], promptly catching the NLP community&amp;#8217;s attentuion. Even more intruguingly," />
    <meta name="twitter:url" content="https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html" />
    
    <script type="application/ld+json">
null
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="IE " href="https://ilyaeck.github.io/rss/" />
</head>
<body class="post-template tag-Deep-Learning tag-NLP  noimage">

    


    <article role="main" class="">
        <header>
            <a href="https://ilyaeck.github.io" id="home_link">«</a>
            <div class="meta"><time datetime="2016-09-12"><a href="https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html">September 12, 2016</a></time> <span class="count" id="js-reading-time"></span></div>
            <h1>Natural language modeling: How deep is too deep?</h1>
        </header>

        <div class="text" id="js-post-content">
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>TL;DR</strong> Is Deep Learning always the best tool for Natural Language Understanding tasks? Not necessarily!</p>
</div>
<div class="paragraph">
<p>Recently, a paper from Facebook AI Research (FAIR) appeared on arXiv, under the intriguing title <a href="https://arxiv.org/pdf/1607.01759v2.pdf"><em>Bag of Tricks for Efficient Text Classification</em></a>[1], promptly catching the NLP community&#8217;s attentuion. Even more intruguingly, FAIR soon followed up with an open source implementation a.k.a. <a href="https://github.com/facebookresearch/fastText">fastText</a>[2]. In this work (essentially a simple modification of the unsupervised <a href="https://en.wikipedia.org/wiki/Word2vec">Word2Vec</a> algorithm to deal with supervised learning tasks), the authors made a convincing case for the frequent superiority of <strong>shallow</strong>
text representations - as opposed to deep ones - for common NLU tasks such as sentence classification, dispelling the myth that "deeper is always better".
Furthermore, this paper is but one example in the recent slew of results casting the "silver bullet" efficacy of complex neural architectures into question for text-related tasks (see some examples here[3], here[4] and here[5]).</p>
</div>
<div class="paragraph">
<p>Hold on, you might say, isn&#8217;t Deep Learning a new disruptive force in AI, shown beyond doubt to be clearly superior to prior "shallow"
learning approaches? Well, it depends who you ask. Ask a Computer Vision or a Speech Recognition expert, and you&#8217;ll get and enthusiastic Yes!
In computer vision, novel DL archirectures (such as VGG, GoogleNet, Inception, etc.) have delivered extremely impressive
results on ImageNet, CIFAR, even defying expectations of some computer vision DL champions[5]. In speech, commercial heavyweights such as
Google and Baidu have longs since switch to DL architectures. It should only be natural to expect, then, to see the
same trend in NLP/NLU, correct?
Well, not so fast.</p>
</div>
<div class="paragraph">
<p>The tide of enthusiasm in Deep Learning has of course spilled over to the NLU community, triggering a massive conversion of both
academics and industry practitioners to the newfound DL religion. Impressive results from other fields,
helped by the success of the seminal Word2Vec[6] (followed by Glove[7] and the like) was too much to resist. RNN and LSTM have since become mainstream techniques, offered by
popular DL libraries such as TensorFlow, Keras, DL4J, etc. Among other big companies, Google has been at the forefront of both open-sourcing DL techniques (with <a href="https://www.tensorflow.org/">TensorFlow</a>) and adopting DL architectures in production (see, e.g., SmartReply[9]).</p>
</div>
<div class="paragraph">
<p>So - you ask - isn&#8217;t that enough? Where do I sign up?! Well, dear friend: if you are reading this, chances are, you are not Google! And as a result, you
don&#8217;t have the same massive amounts of training data, nor their virtually unlimited computational resources. To the rest of us,
it is important to understand the performance/computation tradeoffs that come with DL  -  which is what this post is really about.</p>
</div>
<div class="paragraph">
<p>So let us look at some key problems one by one. In this post, we will focus on text classification.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__ext_classification">Тext Classification</h3>
<div class="paragraph">
<p>Clearly, text classification is a common task with plenty of applications: search, user intent determination, sentiment analysis, topic modeling
(slightly different, but close), seqeuence labeling (related), etc.
For text classification, we typically have 3 options:</p>
</div>
<div class="ulist disc">
<ul class="disc">
<li>
<p>Good old classifiers such as Random Forests (RF) or Logistic Regression, using a Bag of Word (BoW) representation such as TF/IDF or averaged Continuous-BOW word vectors.</p>
</li>
<li>
<p>Shallow neural networks such as Facebook&#8217;s fastText</p>
</li>
<li>
<p>Deep networks such as RNNs/LSTMs or CNNs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Recurrent Neural Networks (RNNs) are category of NN-based models designed specifically for sequences of arbitrary length.
Which makes particularly attractive tool for modeling text.
(2 sentences on RNN + picture: vector representation, etc.). However, in practice, RNNs can be hard to train and for small to medium-sized training datasest
, good old classifiers such as Logistic Regression or Random Forest (using a bag of words representation) can often deliver similar or even superior
performance at a lower computational cost. Even in the Deep Learning category, RNNs have a strong competitor in ConvNets
(a.k.a. Convolutional Neural Nets or CNNs) - just as long as your text can be treated as fixed length sequences, making them a suitable approach
to represent and classify tweets, text messages, short user reviews, etc. Still, it&#8217;s too early to dismiss RNNs and their variants entirely.
Here is an important distinction to realize. Many traditional classification methods aim to learn a feature space partitioning function
(as a means to separate samples of different classes), leaving feature engineering to the application developer. Conversely, neural networks
actually do more than that: they seek to learn the optimal representation (read: N-dimensional vector encoding of your data points:
pixels, words, sentences, pages, what have you&#8230;&#8203;) so as to minimize some loss function on the training set. That learned representation is a byproduct that can sometimes be more valuable than the main task! For instance, in Word2Vec, the task is predicting a word based on the words around it (or vice-versa), which admittedly is not a very common problem in reality. However, as a byproduct, we get word vectors
with very interesting semantic properties (link) that become handy in text classification and other application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_nli_and_machine_translation">NLI and machine translation.</h3>
<div class="paragraph">
<p>Why is NLI important ? It&#8217;s a key problem in natural language understanding. Many other NLU problems can be reduced to NLI: such as summarization
(given a piece of text and a suggested summary, does the former entail the latter), information extraction (does the text entail the extracted fact),
question answering (does the data source entail a given question and answer pair) as well as machine machine translation
(does a phrase in language A entail its given translation in language B and vice versa).
Why is it mentioned in the same category as machine translation? Both can be cast as an alignment problem.</p>
</div>
<div class="paragraph">
<p>Subsection: Question Answering</p>
</div>
<div class="paragraph">
<p>Subsection: Reading comprehension, memory and attention.</p>
</div>
<div class="paragraph">
<p>Subsection: Dialogue and chatbots!</p>
</div>
<div class="paragraph">
<p>So why hs DL been more successful in ASR and vision than NLP/NLU? That&#8217;s a topic for another post!</p>
</div>
<div class="sect3">
<h4 id="_references">References</h4>
<div class="paragraph">
<p>[1] <a href="https://arxiv.org/pdf/1607.01759v2.pdf">Bag of Tricks for Efficient Text Classification</a>, A. Joulin, E. Grave, P. Bojanowski, T. Mikolov</p>
</div>
<div class="paragraph">
<p>[3] <a href="http://arxiv.org/abs/1608.04207v1">Fine-grained Analysis of Sentence Embeddings Using Auxiliary Prediction Tasks</a>, Yossi Adi, Einat Kermany, Yonatan Belinkov, Ofer Lavi, Yoav Goldberg
[4] <a href="http://arxiv.org/pdf/1606.02858v2.pdf">A Thorough Examination of the CNN/Daily Mail Reading Comprehension Task</a>, Danqi Chen, Jason Bolton, Christopher D. Manning
[5] <a href="http://arxiv.org/pdf/1606.01933v1.pdf">A Decomposable Attention Model for Natural Language Inference</a>, Ankur P. Parikh, Oscar Täckström, Dipanjan Das, Jakob Uszkoreit
[6] Karpathy
[7] Word2Vec
[8] Glove
[9] Smart Reply
[10] <a href="http://www.foldl.me/2016/solving-language/" class="bare">http://www.foldl.me/2016/solving-language/</a></p>
</div>
</div>
</div>
        </div>

        <menu>
            <a href="" id="btn_share" class="btn" title="Share">
                <span aria-hidden="true" data-icon="S"></span>
                <strong>Share</strong>
            </a>
            <a href="http://twitter.com/share?text=Natural%20language%20modeling%3A%20How%20deep%20is%20too%C2%A0deep%3F&url=https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" id="btn_comment" class="btn" target="_blank">
                <span aria-hidden="true" data-icon="C"></span> Comment on Twitter
            </a>
        </menu>


        <footer class="post-footer" role="contentinfo">

            <div class="vcard">
                <a href="https://ilyaeck.github.io/rss" id="btn_feed" class="btn" title="Feed" target="_blank">
                    <span aria-hidden="true" data-icon=")"></span>
                    <strong>Feed</strong>
                </a>

                <a href="https://ilyaeck.github.io/author/ilyaeck/" class="photo">
                    <span style="background-image: url('https://avatars.githubusercontent.com/u/156822?v&#x3D;3');">
                        <img src="https://avatars.githubusercontent.com/u/156822?v&#x3D;3" alt="Ilya Eckstein ">
                    </span>
                </a>

                <div class="details">
                    <h4><a href="https://ilyaeck.github.io/author/ilyaeck/" class="url n">Ilya Eckstein </a></h4>
                    
                    
                </div>
            </div>

            <div id="user_bio">
                <div class="inner">
                    
                </div>
            </div>

        </footer>




    </article>

    <div id="share_modal">
        <div class="wrap">
            <div class="inner">
                <header>
                    Share
                    <a href="" class="close" title="Close">&times;</a>
                </header>

                <div class="roon-share-links">
                    <a href="https://twitter.com/share" class="twitter-share-button" data-dnt="true">Tweet</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

                    <div id="fb-elems">
                        <div id="fb-root"></div>
                        <script>(function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0];
                        if (d.getElementById(id)) return;
                        js = d.createElement(s); js.id = id;
                        js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=463438580397968";
                        fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script>
                        <div class="fb-like" data-send="false" data-layout="button_count" data-width="110" data-show-faces="false" data-font="arial"></div>
                    </div>

                    <div id="pinit-btn">
                        <a href="//pinterest.com/pin/create/button/?url=https://ilyaeck.github.io/2016/09/12/Natural-language-modeling-How-deep-is-too-deep.html&amp;description=Natural%20language%20modeling%3A%20How%20deep%20is%20too%C2%A0deep%3F-IE%20 " data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png"></a>
                        <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js"></script>
                    </div>
                </div>
            </div>
        </div>
    </div>






    <script>

            function get_text(el) {
                ret = "";
                var length = el.childNodes.length;
                for(var i = 0; i < length; i++) {
                    var node = el.childNodes[i];
                    if(node.nodeType != 8) {
                        ret += node.nodeType != 1 ? node.nodeValue : get_text(node);
                    }
                }
                return ret;
            }
            function reading_time () {
                var post_content = document.getElementById('js-post-content');
                if (post_content) {
                    var words = get_text(post_content),
                        count = words.split(/\s+/).length,
                        read_time = Math.ceil((count / 150)),
                        read_time_node = document.createTextNode(read_time + ' min read');
                    document.getElementById('js-reading-time').appendChild(read_time_node);
                }
            }

        function no_schema_links () {
            var links = document.querySelectorAll('.js-remove-domain-schema');
            if (links) {
                for (i = 0; i < links.length; ++i) {
                    var link = links[i],
                        text = link.innerHTML,
                        no_schema = text.replace(/.*?:\/\//g, "");
                    link.innerHTML = no_schema;
                }
            }
        }

        window.onload = function () {
            no_schema_links();

            reading_time();
        }
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>

        <script>
            $(function(){
                var share_modal = $("#share_modal"),
                    update_social_links = true;

                $("#btn_share").click(function(){
                    var that = $(this);
                    share_modal.fadeIn(200);
                    return false;
                });

                share_modal.click(function(e){
                    if (e.target.className == "wrap" || e.target.id == "share_modal") {
                        share_modal.fadeOut(200);
                    }
                    return false;
                });

                share_modal.find("div.inner > header > a.close").click(function(){
                    share_modal.fadeOut(200);
                    return false;
                });
            });
        </script>



</body>
</html>
